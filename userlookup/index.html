<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Discord User Lookup</title>
    <link rel="icon" sizes="any" type="image/svg+xml" href="https://discordlookup.com/images/branding/favicon/favicon.svg">
    <link rel="icon" type="image/png" href="https://discordlookup.com/images/branding/favicon/favicon.png">
    <link rel="apple-touch-icon" href="https://discordlookup.com/images/branding/favicon/favicon.png"/>
<style>
@import url('https://fonts.cdnfonts.com/css/gg-sans-2');

@font-face {
    font-family: 'Ginto Nord';
    src: url('https://github.com/reallytyler/DiscordFONTS/raw/refs/heads/main/Font/ABCGintoDiscordNord-Bold.woff') format('woff');
    font-weight: bold;
    font-display: swap;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'gg sans', 'gg sans Normal', sans-serif;
    background: #36393f;
    min-height: 100vh;
    padding: 20px;
    color: #ffffff;
    line-height: 1.5;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.container {
    max-width: 800px;
    width: 100%;
    margin: 40px auto;
    background: #2f3136;
    border-radius: 8px;
    padding: 40px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    border: 1px solid #40444b;
    position: relative;
}

.bx-search {
    position: absolute;
    top: -25px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 3em;
    color: #5865f2;
    background: #2f3136;
    padding: 10px;
    border-radius: 50%;
    border: 3px solid #40444b;
}

h1 {
    text-align: center;
    color: #ffffff;
    margin-bottom: 30px;
    font-size: 2.2em;
    font-family: 'Ginto Nord', 'gg sans SemiBold', sans-serif;
    font-weight: bold;
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.search-box {
    display: flex;
    gap: 12px;
    margin-bottom: 30px;
}

#userIdInput {
    flex: 1;
    padding: 16px 20px;
    border: 1px solid #40444b;
    border-radius: 8px;
    font-size: 16px;
    font-family: 'gg sans', sans-serif;
    transition: all 0.2s ease;
    background: #40444b;
    color: #ffffff;
    outline: none;
}

#userIdInput::placeholder {
    color: #b9bbbe;
}

#userIdInput:focus {
    border-color: #5865f2;
    box-shadow: 0 0 0 2px rgba(88, 101, 242, 0.3);
}

button {
    padding: 16px 32px;
    background: #5865f2;
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-family: 'gg sans Medium', sans-serif;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}

button:hover {
    background: #4752c4;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(88, 101, 242, 0.3);
}

button:active {
    transform: translateY(0);
}

.result-container {
    display: none;
    background: #2f3136;
    border-radius: 8px;
    padding: 30px;
    margin-top: 20px;
    border: 1px solid #40444b;
}

.user-card {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 25px;
    padding-bottom: 25px;
    border-bottom: 1px solid #40444b;
}

.avatar {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    border: 3px solid #5865f2;
    object-fit: cover;
}

.user-info {
    flex: 1;
}

.username {
    font-size: 1.5em;
    font-weight: 600;
    color: #ffffff;
    margin-bottom: 4px;
    font-family: 'gg sans SemiBold', sans-serif;
}

.discriminator {
    color: #b9bbbe;
    font-size: 1.2em;
    font-weight: 400;
}

.global-name {
    color: #b9bbbe;
    font-size: 1em;
    margin-top: 4px;
    font-family: 'gg sans Normal', sans-serif;
}

.badges {
    display: flex;
    gap: 6px;
    margin: 12px 0;
    flex-wrap: wrap;
}

.badge {
    background: #5865f2;
    color: white;
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 0.75em;
    font-weight: 600;
    font-family: 'gg sans Medium', sans-serif;
}

.details-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 12px;
    margin-top: 20px;
}

.detail-item {
    background: #40444b;
    padding: 16px;
    border-radius: 6px;
    border-left: 4px solid #5865f2;
    transition: all 0.2s ease;
}

.detail-item:hover {
    background: #484c54;
    transform: translateY(-1px);
}

.detail-label {
    font-size: 0.85em;
    color: #b9bbbe;
    margin-bottom: 6px;
    font-family: 'gg sans Normal', sans-serif;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.detail-value {
    font-size: 1em;
    font-weight: 600;
    color: #ffffff;
    font-family: 'gg sans SemiBold', sans-serif;
}

.detail-value a {
    color: #00aff4;
    text-decoration: none;
    transition: color 0.2s ease;
}

.detail-value a:hover {
    color: #009cd9;
    text-decoration: underline;
}

.loading {
    text-align: center;
    color: #5865f2;
    font-size: 1.1em;
    font-family: 'gg sans Medium', sans-serif;
    padding: 40px;
}

.error {
    background: #ed4245;
    color: white;
    padding: 16px;
    border-radius: 6px;
    text-align: center;
    font-family: 'gg sans Medium', sans-serif;
}

.avatar-placeholder {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background: #5865f2;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 1.5em;
    font-weight: bold;
    font-family: 'gg sans SemiBold', sans-serif;
    border: 3px solid #4752c4;
}

.logo-container {
    display: flex;
    justify-content: center;
    margin-bottom: 20px;
}

.inline-flex {
    display: inline-flex;
}

.items-center {
    align-items: center;
}

.space-x-2 > * + * {
    margin-left: 0.5rem;
}

.font-bold {
    font-weight: bold;
}

.text-lg {
    font-size: 1.125rem;
}

.tracking-wide {
    letter-spacing: 0.025em;
}

.text-blue-600 {
    color: #5865f2;
}

.hover\:text-blue-400:hover {
    color: #8093f2;
}

.max-h-4 {
    max-height: 1rem;
}

.space-y-3 > * + * {
    margin-top: 0.75rem;
}

.text-gray-300 {
    color: #b9bbbe;
}

.text-gray-500 {
    color: #8e9297;
}

.text-center {
    text-align: center;
}

.mt-8 {
    margin-top: 2rem;
}

/* Discord-like scrollbar */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: #2f3136;
}

::-webkit-scrollbar-thumb {
    background: #202225;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #36393f;
}

/* Responsive design */
@media (max-width: 768px) {
    .container {
        margin: 20px auto;
        padding: 30px 20px;
    }
    
    .search-box {
        flex-direction: column;
    }
    
    .user-card {
        flex-direction: column;
        text-align: center;
        gap: 15px;
    }
    
    .details-grid {
        grid-template-columns: 1fr;
    }
    
    h1 {
        font-size: 1.8em;
    }
    
    .bx-search {
        font-size: 2.5em;
        top: -20px;
    }
}

/* Animation for loading state */
@keyframes pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

.loading {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}
</style>
</head>
<body>
    <div class="logo-container">
        <a href="#" class="inline-flex items-center space-x-2 font-bold text-lg tracking-wide text-blue-600 hover:text-blue-400">
            <img src="https://discordlookup.com/images/branding/logo-blurple.svg" class="max-h-4" alt="DiscordLookup Logo" />
            <span>DiscordLookup</span>
        </a>
    </div>
    
    <div class="container">
        <i class='bx bx-search'></i> 
        <h1>Discord User Lookup</h1>
        <div class="search-box">
            <input type="text" id="userIdInput" placeholder="Enter User ID (e.g., 190916143439413248)" />
            <button onclick="performLookup()">Lookup</button>
        </div>
        <div id="result" class="result-container"></div>
    </div>
    
    <div class="text-center mt-8 space-y-3">
        <div class="text-gray-300 font-bold">&copy; 2025 DiscordLookup</div>
        <div class="text-gray-500">
            DiscordLookup is not affiliated, associated, authorized, endorsed by, or in anyway<br>
            officially connected with Discord Inc., or any of its subsidiaries or its affiliates.
        </div>
    </div>

    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
    <script>
        // Discord User Lookup - Working Version
        window.performLookup = async function() {
            const userIdInput = document.getElementById('userIdInput');
            const resultDiv = document.getElementById('result');
            
            // Get user ID from input
            const userId = userIdInput.value.trim();
            
            // Validate input
            if (!userId) {
                alert('Please enter a User ID');
                return;
            }
            
            // Validate user ID format (17-20 digits)
            if (!/^\d{17,20}$/.test(userId)) {
                alert('User ID must be 17-20 digits');
                return;
            }
            
            // Show loading state
            resultDiv.innerHTML = '<div class="loading">üîç Searching Discord API...</div>';
            resultDiv.style.display = 'block';
            
            try {
                // Try multiple API endpoints for better reliability
                const endpoints = [
                    `https://discord-lookup.deno.dev/${userId}`,
                    `https://api.discordlookup.ml/v1/user/${userId}`,
                    `https://japi.rest/discord/v1/user/${userId}`
                ];
                
                let data = null;
                let lastError = null;
                
                // Try each endpoint until one works
                for (const endpoint of endpoints) {
                    try {
                        console.log(`Trying endpoint: ${endpoint}`);
                        const response = await fetch(endpoint);
                        
                        if (!response.ok) {
                            throw new Error(`HTTP ${response.status}`);
                        }
                        
                        data = await response.json();
                        console.log('Success with endpoint:', endpoint, data);
                        
                        // Validate we got proper user data
                        if (data && data.id) {
                            break;
                        } else {
                            throw new Error('Invalid response format');
                        }
                    } catch (error) {
                        lastError = error;
                        console.log(`Endpoint failed: ${endpoint}`, error);
                        continue; // Try next endpoint
                    }
                }
                
                if (!data || !data.id) {
                    throw new Error('All API endpoints failed. User may not exist or APIs are down.');
                }
                
                // Display the user data
                displayUserData(userId, data);
                
            } catch (error) {
                console.error('Lookup error:', error);
                resultDiv.innerHTML = `
                    <div class="error">
                        Error: ${error.message}<br><br>
                        <small>Try again with a different User ID or check if the user exists.</small>
                    </div>
                `;
                resultDiv.style.display = 'block';
            }
        };

        function displayUserData(userId, data) {
            const resultDiv = document.getElementById('result');
            
            // Generate avatar URL
            const avatarUrl = data.avatar 
                ? `https://cdn.discordapp.com/avatars/${userId}/${data.avatar}.${data.avatar.startsWith('a_') ? 'gif' : 'png'}?size=512`
                : '';
            
            // Generate banner URL
            const bannerUrl = data.banner 
                ? `https://cdn.discordapp.com/banners/${userId}/${data.banner}.${data.banner.startsWith('a_') ? 'gif' : 'png'}?size=512`
                : '';
            
            // Format accent color
            const accentColor = data.accent_color 
                ? `#${data.accent_color.toString(16).padStart(6, '0')}` 
                : '#7289da';
            
            // Get badges from public flags
            const badges = getBadges(data.public_flags);
            const badgesHtml = badges.length ? `
                <div class="detail-item">
                    <div class="detail-label">Badges</div>
                    <div class="detail-value">
                        <div class="badges">${badges.map(badge => `<div class="badge">${badge}</div>`).join('')}</div>
                    </div>
                </div>
            ` : '';
            
            // Calculate account creation date
            const createdAt = data.id ? new Date(parseInt(data.id) / 4194304 + 1420070400000) : null;
            const createdDate = createdAt ? createdAt.toLocaleDateString() : 'Unknown';
            
            // Create user card HTML
            resultDiv.innerHTML = `
                <div class="user-card">
                    ${avatarUrl 
                        ? `<img src="${avatarUrl}" alt="Avatar" class="avatar" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex';" />
                           <div class="avatar-placeholder" style="display:none">${data.username ? data.username.charAt(0).toUpperCase() : '?'}</div>` 
                        : `<div class="avatar-placeholder">${data.username ? data.username.charAt(0).toUpperCase() : '?'}</div>`
                    }
                    <div class="user-info">
                        <div class="username">
                            ${data.username || 'Unknown User'}
                            <span class="discriminator">
                                ${data.discriminator && data.discriminator !== '0' && data.discriminator !== '0000' ? '#' + data.discriminator : ''}
                            </span>
                        </div>
                        ${data.global_name && data.global_name !== data.username
                            ? `<div class="global-name">${data.global_name}</div>` 
                            : ''
                        }
                        ${data.bot ? '<div class="badge" style="background: #5865f2; margin-top: 5px;">Bot Account</div>' : ''}
                    </div>
                </div>
                <div class="details-grid">
                    <div class="detail-item">
                        <div class="detail-label">User ID</div>
                        <div class="detail-value">${data.id || userId}</div>
                    </div>
                    
                    ${createdAt ? `
                    <div class="detail-item">
                        <div class="detail-label">Account Created</div>
                        <div class="detail-value">${createdDate}</div>
                    </div>
                    ` : ''}
                    
                    ${badgesHtml}
                    
                    <div class="detail-item">
                        <div class="detail-label">Avatar</div>
                        <div class="detail-value">
                            ${avatarUrl 
                                ? `<a href="${avatarUrl}" target="_blank" rel="noopener">View Avatar</a>` 
                                : 'No Avatar'
                            }
                        </div>
                    </div>
                    
                    ${bannerUrl 
                        ? `
                        <div class="detail-item">
                            <div class="detail-label">Profile Banner</div>
                            <div class="detail-value">
                                <a href="${bannerUrl}" target="_blank" rel="noopener">View Banner</a>
                            </div>
                        </div>
                        ` 
                        : ''
                    }
                    
                    <div class="detail-item">
                        <div class="detail-label">Accent Color</div>
                        <div class="detail-value">
                            <span style="color: ${accentColor}">${accentColor}</span>
                        </div>
                    </div>
                    
                    <div class="detail-item">
                        <div class="detail-label">Public Flags</div>
                        <div class="detail-value">${data.public_flags || 0}</div>
                    </div>
                    
                    <div class="detail-item">
                        <div class="detail-label">Nitro Status</div>
                        <div class="detail-value">${getPremiumType(data.premium_type)}</div>
                    </div>
                    
                    ${typeof data.bot !== 'undefined' ? `
                    <div class="detail-item">
                        <div class="detail-label">Bot Account</div>
                        <div class="detail-value">${data.bot ? 'Yes' : 'No'}</div>
                    </div>
                    ` : ''}
                    
                    ${typeof data.system !== 'undefined' ? `
                    <div class="detail-item">
                        <div class="detail-label">System User</div>
                        <div class="detail-value">${data.system ? 'Yes' : 'No'}</div>
                    </div>
                    ` : ''}
                    
                    ${data.locale ? `
                    <div class="detail-item">
                        <div class="detail-label">Locale</div>
                        <div class="detail-value">${data.locale}</div>
                    </div>
                    ` : ''}
                </div>
                
                <div style="text-align: center; margin-top: 20px; color: #b9bbbe; font-size: 0.9em;">
                    Data fetched from Discord's API
                </div>
            `;
            resultDiv.style.display = 'block';
        }

        function getPremiumType(type) {
            const types = {
                0: 'None',
                1: 'Nitro Classic',
                2: 'Nitro',
                3: 'Nitro Basic'
            };
            return types[type] || 'None';
        }

        function getBadges(publicFlags) {
            if (!publicFlags) return [];
            
            const badges = [];
            const flagMap = {
                1: 'Staff',
                2: 'Partner', 
                4: 'Hypesquad Events',
                8: 'Bug Hunter Level 1',
                64: 'HypeSquad Bravery',
                128: 'HypeSquad Brilliance', 
                256: 'HypeSquad Balance',
                512: 'Early Supporter',
                1024: 'Team User',
                16384: 'Bug Hunter Level 2',
                65536: 'Verified Bot',
                131072: 'Early Verified Bot Developer',
                262144: 'Discord Certified Moderator'
            };
            
            for (const [flag, name] of Object.entries(flagMap)) {
                if (publicFlags & parseInt(flag)) {
                    badges.push(name);
                }
            }
            
            return badges;
        }

        // Add enter key support and auto-focus
        document.addEventListener('DOMContentLoaded', function() {
            const userIdInput = document.getElementById('userIdInput');
            
            if (userIdInput) {
                userIdInput.addEventListener('keypress', function(event) {
                    if (event.key === 'Enter') {
                        performLookup();
                    }
                });
                
                // Auto-focus input on page load
                userIdInput.focus();
                
                // Add example user IDs for testing
                userIdInput.placeholder = "Enter User ID (e.g., 190916143439413248)";
            }
        });

        // Example function to test with known user IDs
        window.testWithExample = function(userId) {
            const userIdInput = document.getElementById('userIdInput');
            if (userIdInput) {
                userIdInput.value = userId;
                performLookup();
            }
        };
    </script>
    
    <!-- Example buttons for testing -->
    <div style="margin-top: 20px; text-align: center;">
        <small style="color: #b9bbbe;">Test with example IDs: </small>
        <button onclick="testWithExample('190916143439413248')" style="padding: 8px 12px; margin: 0 5px; font-size: 12px; background: #40444b;">Discord Test</button>
        <button onclick="testWithExample('80351110224678912')" style="padding: 8px 12px; margin: 0 5px; font-size: 12px; background: #40444b;">Danny</button>
    </div>
</body>
</html>
