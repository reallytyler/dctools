name: Post Commits to Discord

on:
  push:
    branches: [ main, master ]

jobs:
  post-to-discord:
    runs-on: ubuntu-latest
    steps:
      - name: Send Discord Notification
        uses: sarisia/actions-discord@v1
        with:
          webhook_url: ${{ secrets.DISCORD_WEBHOOK }}
          content: "<@&1435531334390120448> <@&1435531444138152076>"
          embed: |
            {
              "title": "New Commit to ${{ github.ref }}",
              "description": "**Message:** ${{ github.event.head_commit.message }}\n**Author:** ${{ github.event.head_commit.author.name }}\n**Repository:** ${{ github.repository }}",
              "color": 3447003,
              "timestamp": "${{ github.event.head_commit.timestamp }}"
            }
